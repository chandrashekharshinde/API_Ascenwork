CREATE PROCEDURE [dbo].[SSP_AllDriverList]-- '<Json><ServicesAction>LoadAllDriverList</ServicesAction></Json>'(@xmlDoc XML='<Json><CarrierId>0</CarrierId></Json>')ASBEGINDECLARE @intPointer INT;declare @CarrierId bigint=0EXEC sp_xml_preparedocument @intpointer OUTPUT,@xmlDocSELECT @CarrierId = tmp.[CarrierId]		  FROM OPENXML(@intpointer,'Json',2)			WITH			(			[CarrierId] bigint			)tmp; WITH XMLNAMESPACES('http://james.newtonking.com/projects/json' AS json)SELECT CAST((SELECT  'true' AS [@json:Array],l.ProfileId,l.LoginId as DeliveryPersonnelId,			--([Name] +  ' ('+ ISNULL('','') +')' ) as Name,			[Name],			l.UserName as UserName,        	'' as [EmailId],        	 '' as [ContactNumber],        	'' as LicenseNumber,        	l.ParentLoginId   as  ParentUser,        	ReferenceId,        	ReferenceType,			[RoleMasterId],			ReferenceId as TransporterId,			[PasswordSalt],			[HashedPassword],			l.UpdatedDate,			l.CreatedDate  FROM Login l    where l.IsActive = 1   and l.RoleMasterId in (select RoleMasterId from RoleMaster where RoleName='Driver') and (l.ReferenceId=@CarrierId or @CarrierId=0) order by name asc	FOR XML path('ProfileList'),ELEMENTS,ROOT('Json')) AS XML)END